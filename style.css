/* Importing a modern font (e.g., Inter from Google Fonts) - already in index.html */
/* @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap'); */
/* For cyberpunk font 'Press Start 2P' - already in index.html */
/* @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap'); */

/* Global Selection Style */
::selection {
  background-color: var(--neonBlue);
  color: var(--darkBg);
}

/* Custom Scrollbar for Cyberpunk Feel */
::-webkit-scrollbar {
  width: 8px;
}
::-webkit-scrollbar-track {
  background: var(--darkBg);
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  background: var(--neonPurple);
  border-radius: 10px;
  border: 2px solid var(--darkBg);
}
::-webkit-scrollbar-thumb:hover {
  background: var(--neonBlue);
}

:root {
  --darkBg: #080A0C;
  --darkSurface: #1A1E24; /* Slightly lighter for components */
  --darkerSurface: #12161A;
  --neonBlue: #00F0FF;
  --neonPurple: #A32EFF; /* Stronger purple for accents */
  --neonGreen: #39FF14;
  --neonPink: #FF0077; /* New accent color */
  --text-primary: #E0E0E0;
  --text-secondary: #9FA8DA; /* Muted blue for secondary text */
  --error-color: #FF4136; /* Bright red for errors */
  --success-color: #2ECC40; /* Bright green for success */
  --warning-color: #FFDC00; /* Bright yellow for warnings */

  --border-radius: 8px;
  --font-family-primary: 'Inter', sans-serif;
  --font-family-cyber: 'Press Start 2P', cursive;

  --glow-intensity: 0.8; /* Control glow strength */
  --neon-shadow-blue: 0 0 5px var(--neonBlue), 0 0 10px var(--neonBlue), 0 0 20px var(--neonBlue), 0 0 40px rgba(0, 240, 255, var(--glow-intensity));
  --neon-shadow-green: 0 0 5px var(--neonGreen), 0 0 10px var(--neonGreen), 0 0 20px var(--neonGreen), 0 0 40px rgba(57, 255, 20, var(--glow-intensity));
  --neon-shadow-purple: 0 0 5px var(--neonPurple), 0 0 10px var(--neonPurple), 0 0 20px var(--neonPurple), 0 0 40px rgba(163, 46, 255, var(--glow-intensity));
}

/* Basic Animations */
@keyframes neon-glow-blue {
  0%, 100% { text-shadow: var(--neon-shadow-blue); }
  50% { text-shadow: none; }
}

@keyframes neon-glow-green {
  0%, 100% { text-shadow: var(--neon-shadow-green); }
  50% { text-shadow: none; }
}

@keyframes subtle-flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.95; }
}


body {
  margin: 0;
  padding: 0;
  font-family: var(--font-family-primary);
  background-color: var(--darkBg);
  background-image: 
    radial-gradient(ellipse at center, rgba(0,240,255,0.1) 0%, transparent 70%),
    linear-gradient(rgba(159,168,218,0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(159,168,218,0.05) 1px, transparent 1px);
  background-size: 100% 100%, 20px 20px, 20px 20px;
  color: var(--text-primary);
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  line-height: 1.6;
  font-size: 16px;
  overflow-x: hidden; /* Prevent horizontal scroll from glowing elements */
}

/* General Link Style for Cyberpunk */
a {
  color: var(--neonBlue);
  text-decoration: none;
  transition: color 0.3s ease;
}
a:hover {
  color: var(--neonGreen);
  text-shadow: 0 0 5px var(--neonGreen);
}


header {
  /* Tailwind classes on index.html body will handle much of this, but ensure base styles */
  border-bottom: 2px solid var(--neonPurple);
  box-shadow: 0 0 15px var(--neonPurple);
  animation: subtle-flicker 4s infinite alternate;
}

header h1 {
  font-family: var(--font-family-cyber);
  text-shadow: var(--neon-shadow-green);
}

header p {
  color: var(--text-secondary);
}


.balance h2 {
  color: var(--text-primary);
}

#balance-amount {
  color: var(--neonGreen);
  text-shadow: var(--neon-shadow-green);
}

main {
  /* main is now handled by tailwind container, keep minimal here */
  flex-grow: 1;
}

coin-flip-game {
  display: block; /* Ensure it's a block element */
  background: linear-gradient(145deg, var(--darkSurface), var(--darkerSurface));
  border: 2px solid var(--neonBlue);
  box-shadow: 0 0 15px var(--neonBlue), 0 0 30px rgba(0, 240, 255, 0.4);
  animation: neon-glow-blue 3s infinite alternate;
}

/* Coin Flip Styles (Keep as is mostly, just ensuring it fits general theme) */
.coin-container {
  /* width and height are fine */
  margin: 40px auto; /* More space */
  border: 2px solid var(--neonPink); /* Neon pink border */
  border-radius: 50%;
  box-shadow: 0 0 10px var(--neonPink);
}

.coin {
  /* transition is fine */
}

.coin.flipping {
  /* animation is fine */
}

.heads, .tails {
  /* Consistent with new theme */
  border: 4px solid var(--neonBlue); /* Blue edge glow */
  box-shadow: 0 0 10px var(--neonBlue), inset 0 0 5px rgba(255, 255, 255, 0.3);
}

.heads {
  /* image and color fine */
}

.tails {
  /* image and color fine */
}

@keyframes coin-flip {
  /* Already updated, keep as is for realistic toss */
  0% {
    transform: perspective(1000px) rotateY(0deg) translateY(0px);
    animation-timing-function: ease-out;
  }
  25% { /* Toss up */
    transform: perspective(1000px) rotateY(900deg) translateY(-100px) scale(1.05);
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* ease-out quad */
  }
  50% { /* Mid-air, peak height */
    transform: perspective(1000px) rotateY(1800deg) translateY(-150px) scale(1.1);
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* ease-out quad */
  }
  75% { /* Falling down */
    transform: perspective(1000px) rotateY(2700deg) translateY(-50px) scale(1.05);
    animation-timing-function: cubic-bezier(0.55, 0.085, 0.68, 0.53); /* ease-in quad */
  }
  100% { /* Landed */
    transform: perspective(1000px) rotateY(3600deg) translateY(0px) scale(1);
    animation-timing-function: cubic-bezier(0.165, 0.84, 0.44, 1); /* ease-out back */
  }
}

/* Result display */
.coin-result {
  text-align: center;
  margin-top: 25px; /* Adjust margin */
  font-size: 2.5em; /* Larger result text */
  font-weight: bold;
  color: var(--neonGreen);
  text-shadow: var(--neon-shadow-green);
  min-height: 1.5em;
  animation: neon-glow-green 2s infinite alternate;
}

/* History List Styling */
.history h3 {
  color: var(--text-primary);
  text-shadow: 0 0 5px var(--neonBlue);
}

.history-list {
  border: 1px solid var(--neonPurple);
  background-color: var(--darkerSurface);
  box-shadow: 0 0 10px var(--neonPurple);
}

.history-item {
  border-bottom: 1px dashed rgba(163, 46, 255, 0.3); /* Dashed neon border */
  color: var(--text-primary);
}

.history-item:last-child {
  border-bottom: none;
}

.history-item.win .amount {
  color: var(--success-color);
  text-shadow: 0 0 5px var(--success-color);
}
.history-item.loss .amount {
  color: var(--error-color);
  text-shadow: 0 0 5px var(--error-color);
}

/* Scroll-triggered animations */
.fade-in-section {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s cubic-bezier(0.645, 0.045, 0.355, 1), transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
}

.fade-in-section.is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* Glitch effect on H1 */
.glitch {
  position: relative;
  animation: glitch-skew 1s infinite linear alternate-reverse;
}
.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: var(--darkSurface); /* Match header background */
  overflow: hidden;
}
.glitch::before {
  left: 3px;
  text-shadow: -2px 0 var(--neonPink);
  clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
  animation: glitch-anim-1 2.5s infinite linear alternate-reverse;
}
.glitch::after {
  left: -3px;
  text-shadow: -2px 0 var(--neonBlue), 2px 2px var(--neonGreen);
  clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
  animation: glitch-anim-2 3s infinite linear alternate-reverse;
}

@keyframes glitch-anim-1 {
  0% { clip-path: polygon(0 2%, 100% 2%, 100% 33%, 0 33%); }
  5% { clip-path: polygon(0 40%, 100% 40%, 100% 45%, 0 45%); }
  10% { clip-path: polygon(0 60%, 100% 60%, 100% 80%, 0 80%); }
  15% { clip-path: polygon(0 10%, 100% 10%, 100% 25%, 0 25%); }
  20% { clip-path: polygon(0 50%, 100% 50%, 100% 55%, 0 55%); }
  25% { clip-path: polygon(0 70%, 100% 70%, 100% 75%, 0 75%); }
  30% { clip-path: polygon(0 35%, 100% 35%, 100% 40%, 0 40%); }
  35% { clip-path: polygon(0 90%, 100% 90%, 100% 93%, 0 93%); }
  40% { clip-path: polygon(0 15%, 100% 15%, 100% 18%, 0 18%); }
  45% { clip-path: polygon(0 5%, 100% 5%, 100% 8%, 0 8%); }
  50% { clip-path: polygon(0 80%, 100% 80%, 100% 83%, 0 83%); }
  55% { clip-path: polygon(0 25%, 100% 25%, 100% 28%, 0 28%); }
  60% { clip-path: polygon(0 45%, 100% 45%, 100% 48%, 0 48%); }
  65% { clip-path: polygon(0 75%, 100% 75%, 100% 78%, 0 78%); }
  70% { clip-path: polygon(0 12%, 100% 12%, 100% 15%, 0 15%); }
  75% { clip-path: polygon(0 62%, 100% 62%, 100% 65%, 0 65%); }
  80% { clip-path: polygon(0 92%, 100% 92%, 100% 95%, 0 95%); }
  85% { clip-path: polygon(0 32%, 100% 32%, 100% 35%, 0 35%); }
  90% { clip-path: polygon(0 3%, 100% 3%, 100% 6%, 0 6%); }
  95% { clip-path: polygon(0 43%, 100% 43%, 100% 46%, 0 46%); }
  100% { clip-path: polygon(0 73%, 100% 73%, 100% 76%, 0 76%); }
}

@keyframes glitch-anim-2 {
    0% { clip-path: polygon(0 67%, 100% 67%, 100% 71%, 0 71%); }
    5% { clip-path: polygon(0 15%, 100% 15%, 100% 20%, 0 20%); }
    10% { clip-path: polygon(0 90%, 100% 90%, 100% 95%, 0 95%); }
    15% { clip-path: polygon(0 40%, 100% 40%, 100% 45%, 0 45%); }
    20% { clip-path: polygon(0 22%, 100% 22%, 100% 30%, 0 30%); }
    25% { clip-path: polygon(0 82%, 100% 82%, 100% 85%, 0 85%); }
    30% { clip-path: polygon(0 52%, 100% 52%, 100% 55%, 0 55%); }
    35% { clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%); }
    40% { clip-path: polygon(0 72%, 100% 72%, 100% 75%, 0 75%); }
    45% { clip-path: polygon(0 22%, 100% 22%, 100% 25%, 0 25%); }
    50% { clip-path: polygon(0 52%, 100% 52%, 100% 55%, 0 55%); }
    55% { clip-path: polygon(0 82%, 100% 82%, 100% 85%, 0 85%); }
    60% { clip-path: polygon(0 12%, 100% 12%, 100% 15%, 0 15%); }
    65% { clip-path: polygon(0 75%, 100% 75%, 100% 78%, 0 78%); }
    70% { clip-path: polygon(0 35%, 100% 35%, 100% 38%, 0 38%); }
    75% { clip-path: polygon(0 62%, 100% 62%, 100% 65%, 0 65%); }
    80% { clip-path: polygon(0 92%, 100% 92%, 100% 95%, 0 95%); }
    85% { clip-path: polygon(0 32%, 100% 32%, 100% 35%, 0 35%); }
    90% { clip-path: polygon(0 3%, 100% 3%, 100% 6%, 0 6%); }
    95% { clip-path: polygon(0 43%, 100% 43%, 100% 46%, 0 46%); }
    100% { clip-path: polygon(0 73%, 100% 73%, 100% 76%, 0 76%); }
}


@keyframes glitch-skew {
  0% { transform: skew(-2deg, 0); }
  5% { transform: skew(1deg, 0); }
  10% { transform: skew(-1.5deg, 0); }
  15% { transform: skew(0.5deg, 0); }
  20% { transform: skew(0, 0); }
  70% { transform: skew(0, 0); }
  75% { transform: skew(-0.5deg, 0); }
  80% { transform: skew(1.5deg, 0); }
  85% { transform: skew(0.5deg, 0); }
  90% { transform: skew(-1.5deg, 0); }
  95% { transform: skew(0.5deg, 0); }
  100% { transform: skew(0, 0); }
}
